%% carPolygon.m
% Function to plot the polygon for the car

function carPolygon(x,y,yaw,w,l)
%     car1 = [x;y] + [cos(yaw)*l; sin(yaw)*l] + [sin(yaw)*w; -cos(yaw)*w];
%     car2 = [x;y] + [cos(yaw)*l; sin(yaw)*l] - [sin(yaw)*w; -cos(yaw)*w];
%     car3 = [x;y] - [cos(yaw)*l; sin(yaw)*l] + [sin(yaw)*w; -cos(yaw)*w];
%     car4 = [x;y] - [cos(yaw)*l; sin(yaw)*l] - [sin(yaw)*w; -cos(yaw)*w];
% 
%     plot([car1(1),car2(1),car4(1),car3(1),car1(1)], ...
%          [car1(2),car2(2),car4(2),car3(2),car1(2)],'k','LineWidth',1)

    X = [-l/2, l/2, l/2, -l/2];
    Y = [-w/2, -w/2, w/2, w/2];
    
    cy = cos(yaw); cs = sin(yaw);
    
    X_rot = X*cy + Y*sy;
    Y_rot = -Y*sy + X*cy;
    
    fill(X + X_rot, Y + Y_rot,)
end